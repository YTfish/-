<!DOCTYPE html>
<html>
<META charset="UTF-8"/>
<head>
	<style>
		div{
			width:100px;
			height:100px;
			border:1px solid pink;
		}

		.ok{
			background:green;
			color:#fff;
		}
		.no{
			background:red;
			color:#fff;
		}
	</style>
	<script src = "js/util.js"></script>
</head>
<body>
	<form>
		<div id='msg'></div>
		<input type='text' id='keyword'/>
		<input type='submit'/>
	</form>
</body>
	<script>
		
		function emailValidate(){
			var email = this.value;
			if(/^[a-zA-Z0-9]+@[a-zA-Z0-9]+\.(com|cn|org|net|edu)$/.test(email)){
				$('#msg')[0].className = 'ok';
				$('#msg')[0].innerHTML = 'correct';
				return true;
			}else{
				$('#msg')[0].className = 'no';
				$('#msg')[0].innerHTML = 'wrong';
				return false;
			}
		}

		var keyword = $('#keyword')[0];
		keyword.onkeyup = function(){
			emailValidate.call(this);
		}

		$('form')[0].onsubmit = function(){
			var isEmailValid = emailValidate.call(keyword);
			return isEmailValid;
		}

	</script>
</html>